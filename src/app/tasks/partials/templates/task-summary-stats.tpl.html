<!-- hidden div to simulate an autoload -->
<div ng-mousemove="fetchStats()"
  style="width: 100%; height: 100%; position: absolute; top: 0px; bottom: 0px;">
</div>
<div>
  <div style="padding-top: 150px" ng-show="scatterData.length == 0" class="text-center">
    <i class="fa fa-4x fa-spinner fa-spin"></i>
    <h2>Loading...</h2>
  </div>
  <div ng-hide="scatterData.length == 0">
    <div class="col-sm-12">
      <p class="col-sm-7">
        Click a lab code's circle in the legend to remove the lab from the graph. Double click the lab code's circle to make this lab the only visible lab in the graph.
      </p>
      <a class="btn btn-success pull-right" ng-click="fetchCSV()">
        <i class="fa fa-file-excel-o"></i> Download as CSV
      </a>
    </div>
    <nvd3-scatter-chart
      data="scatterData"
      id="taskScatter"
      width="800"
      height="600"
      yAxisTickFormat="yAxisTickFormatFunction()"
      xAxisTickFormat="xAxisTickFormatFunction()"
      showLegend="true"
      interactive="true"
      tooltips="true"
      tooltipContent="tooltipContentFunction()"
      showDistX="true"
      showDistY="true"
      transitionDuration="350">
        <svg></svg>
      </nvd3-scatter-chart>
  </div>
</div>
