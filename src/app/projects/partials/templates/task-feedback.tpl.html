<div ng-if="activeTask">
  <div>
    <div class="btn-group pull-left status-switcher" dropdown>
      <button class="btn task-status {{activeStatusData().class}} dropdown-toggle">
        <label>{{activeTask.task_abbr}}</label>
        <span class="caret"></span>
      </button><!--/dropdown-button-->
      <ul class="dropdown-menu project-task-bar" role="menu" >
        <li class="col-xs-4 col-sm-3 col-md-2 col-lg-4" ng-repeat="task in submittedTasks">
            <button type="button" class="col-xs-12 btn task-status {{statusClass(task.status)}}" ng-class="{'active' : task == activeTask}" ng-click="setActiveTask(task)" tooltip-popup-delay='200' tooltip-placement="bottom" tooltip="{{task.task_name}}: {{statusText(task.status)}}">
              {{task.task_abbr}}
            </button>
        </li>
      </ul>
    </div><!--/active-task-switcher-->

    <div tooltip-placement="right" tooltip="{{activeStatusData().label}}" class="btn-group pull-right status-switcher" dropdown>
      <button type="button" class="btn task-status {{statusClass(activeTask.status)}} dropdown-toggle">
        <i class="{{activeStatusData().icon}} fa-2x"></i>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu project-task-bar">
        <li ng-show="assessingUnitRole" class="col-xs-4 col-sm-3 col-md-2 col-lg-4" ng-repeat="action in taskEngagementConfig.tutorTriggers" >
          <button class="col-xs-12 btn task-status {{action.taskClass}}" ng-class="{'active' : activeTask.status == action.status}" ng-click="triggerTransition(action.status)" ng-model="activeTask.status" btn-radio="action.status" uncheckable>
            <i class="{{action.iconClass}} fa-2x task-engagement-icon"></i>
            <strong>{{action.label}}</strong>
          </button>
        </li><!--/tutor-statuses-->
        <li class="col-xs-4 col-sm-3 col-md-2 col-lg-4" ng-repeat="action in taskEngagementConfig.studentTriggers" >
          <button class="col-xs-12 btn task-status {{action.taskClass}}" ng-class="{'active' : activeTask.status == action.status}" ng-click="triggerTransition(action.status)" ng-model="activeTask.status" btn-radio="action.status" >
            <i class="{{action.iconClass}} fa-2x task-engagement-icon"></i>
            <strong>{{action.label}}</strong>
          </button>
        </li><!--/student-statuses-->
      </ul>
    </div><!--/active-task-status-switcher-->
    <div class="clearfix task-header-info">
      <div class="col-sm-5 pull-left">
        <h4>{{activeTask.task_name}}</h4>
        <p class="text-justify">
          {{activeTask.task_desc}}
        </p>
      </div>
      <div class="col-sm-3 date-info pull-right">
        <span class="item-info text-right">
          <label>Due Date:</label> {{activeTask.due_date | date:'EEE MMM d'}}
        </span>
        <span class="overdue label label-{{activeStatusData().daysOverdue > 5 ? 'danger' : 'warning'}} pull-right" ng-hide="activeStatusData().daysOverdue === false" tooltip="Tasks are overdue until they are discussed with your tutor." tooltip-placement="right">Overdue By <br/> {{activeStatusData().daysOverdue}} day{{activeStatusData().daysOverdue > 1 ? 's' : ''}}</span>
      </div>
    </div><!--/task-header-info-->
  </div><!--/task-toolbar-->

  <hr>

  <tabset class="pull-left col-md-2" vertical="true" type="pills">
    <tab ng-repeat="tabData in tabsData | orderObjectBy:'seq'" active="tabData.active" ng-click="setActiveTab(tabData)">
      <tab-heading tooltip="{{tabData.title}}" tooltip-placement="right" tooltip-popup-delay="200">
        <div class="text-center">
          <i class="fa fa-2x {{tabData.icon}}"></i>
        </div>
      </tab-heading>
    </tab>
  </tabset><!--/tab-headings-->

  <div class="col-md-10 pull-right">
    <div class="panel panel-default">
      <div class="panel-heading row-fluid">
        <h3 class="panel-title">
          {{activeTab.title}}
          <br>
          <small>{{activeTab.subtitle}}</small>
        </h3>
      </div>
      <task-sheet ng-if="activeTab == tabsData['taskSheet']"></task-sheet>
      <submit-task-form task="activeTask" project="project" ng-if="activeTab == tabsData['fileUpload']"></submit-task-form>
      <view-submission ng-if="activeTab == tabsData['viewSubmission']"></view-submission>
      <view-comments ng-if="activeTab == tabsData['viewComments']"></view-comments>
      <task-plagiarism-report task="activeTask" ng-if="activeTab == tabsData['plagiarismReport'] && activeTask.similar_to_count > 0"></task-plagiarism-report>
      <div ng-if="activeTab == tabsData['plagiarismReport'] && activeTask.similar_to_count <= 0">
        All Good... no similarities detected with this task.
      </div>
    </div><!-- End of right panel -->
  </div>

    </div>
  </div><!--/tab-contents-->
</div>